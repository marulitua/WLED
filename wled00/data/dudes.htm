<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><title>Create Your Dude</title><meta name="decription" content="A dude maker"><meta name="author" content="A dude"><meta name="viewport" content="width=device-width, initial-scale=1"></head><body> <form action="/"><button type="submit" id="b">Back</button></form> <div id="page-wrapper"> <canvas id="c" class="c.s16" width="16" height="24"></canvas> <div id="options"> <div class="option"> <label for="current_anim">Animation</label> <select name="current_anim" id="current_anim"> <option>no_anim</option> <option>idle</option> <option selected="">run</option> <option>jump</option> </select> </div> <div class="option"> <label for="head">Head</label> <input type="range" min="0" max="28" data-head="" value="17">  </div> <div class="option"> <label for="face">Face</label> <input type="range" min="0" max="13" data-face="" value="2">  </div> <div class="option"> <label for="skin">Skin</label> <input type="range" min="0" max="13" data-skin="" data-color="" value="3">  </div> <div class="option"> <label for="eyes">Eyes</label> <input type="range" min="0" max="7" data-eyes="" data-color="" value="7">  </div> <div class="option"> <label for="suit">Suit</label> <input type="range" min="0" max="6" data-suit="" data-color="" value="2">  </div> <div class="option"> <label for="item">Item</label> <input type="range" min="0" max="6" data-item="" data-color="" value="2">  </div> <div class="option"> <label for="hair">Hair</label> <input type="range" min="0" max="4" data-hair="" data-color="" value="1">  </div> </div> <div class="option"> <input id="serialized_input" value="a02110703020201"> <a id="export_btn" target="_blank" href="" download="">export</a> </div> <div class="option"> <button id="randomize"> randomize </button> </div> <div class="option"> <button id="from_code_btn" class="button">apply</button> </div> </div> <script>parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"Focm":[function(require,module,exports) {
function e(){window.frameElement&&(document.getElementById("b").style.display="none",document.documentElement.style.setProperty("--h","13.86vh"))}var t="",n=document.getElementById("c");n.width=16,n.height=24;var a=n.getContext("2d");a.imageSmoothingEnabled=!1;var o=0;function c(){2===++o&&T()}var r=new Image;r.onload=c,r.src="parts.png";var i=new Image;i.onload=c,i.src="base.png";var d=0,u="run",l=document.getElementById("src")||document.createElement("canvas");l.width=112,l.height=96;var f=l.getContext("2d");a.imageSmoothingEnabled=!1;var s=[{key:"face",y:2,max:13},{key:"head",y:0,max:28}],m={no_anim:{len:1,y:0},idle:{len:4,y:1},run:{len:4,y:2},jump:{len:7,y:3}},h=[[0],[0,1,2,1],[-1,-2,0,1],[-1,-1,-1,1,2,1,0]];function g(e,t,n,a,o,c){e.drawImage(a,16*(o||0),20*(c||0),16,20,t,n+4,16,20)}EYES_ORIGINS=h;var v={};function p(e){return v[e]=v[e]||document.querySelector("[data-"+e+"]"),0|v[e].value}function E(e,t){v[e]=v[e]||document.querySelector("[data-"+e+"]"),v[e].value=0|t}function b(e,t,n,a,o){var c=!1;4==n&&2==a?1==t?2==t&&2==e?(g(f,16*e,24*t+0,r,4,4),c=!0):1==t&&1==e?(g(f,16*e,24*t+1,r,4,4),c=!0):1==t&&2==e?(g(f,16*e,24*t+2,r,5,4),c=!0):1==t&&3==e&&(g(f,16*e,24*t+1,r,4,4),c=!0):3==t&&(g(f,16*e,24*t+EYES_ORIGINS[3][e],r,4,4),c=!0):6==n&&0==a?1!=t||1!=e&&3!=e?1==t&&2==e?(g(f,16*e,24*t+h[1][e],r,7,4),c=!0):2==t&&3==e?(g(f,16*e,24*t+h[1][e],r,6,4),c=!0):3==t&&2==e?(g(f,16*e,24*t+2,r,8,4),c=!0):3!=t||5!=e&&3!=e?3==t&&4==e?(g(f,16*e,24*t+h[3][e],r,7,4),c=!0):3==t&&1==e&&(g(f,16*e,24*t+2,r,9,4),c=!0):(g(f,16*e,24*t+h[3][e],r,6,4),c=!0):(g(f,16*e,24*t+h[1][e],r,6,4),c=!0):8==n&&3==a?(1!=e&&3!=e||3!=t||(g(f,16*e,24*t+EYES_ORIGINS[3][e],r,10,4),c=!0),2==e&&3==t&&(g(f,16*e,24*t+EYES_ORIGINS[3][e],r,11,4),c=!0)):13!=n||0!=a&&1!=a?14!=n||0!=a&&1!=a?15!=n||0!=a&&1!=a?23!=n||0!=a&&1!=a?24!=n||0!=a&&1!=a||(b(e,t,7,a,o),b(e,t,22,a,o),c=!0):(b(e,t,6,a,o),b(e,t,22,a,o),c=!0):(b(e,t,7,a,o),b(e,t,12,a,o),c=!0):(b(e,t,10,a,o),b(e,t,12,a,o),c=!0):(b(e,t,6,a,o),b(e,t,12,a,o),c=!0),c||g(f,16*e,24*t+o[e],r,n,a)}var I=null;function S(e,t,n,a){for(y=0;y<a.length;y++){var o=a[y];for(x=0;x<o.length;x++)b(x,y,p(e),n,o)}}function w(){var e=D();if(I!==e){I=e,window.location.hash=e,f.clearRect(0,0,l.width,l.height),f.drawImage(i,0,0),S("face",EYES_ORIGINS.length,3,EYES_ORIGINS),S("head",h.length,0,h),S("head",EYES_ORIGINS.length,1,h),S("face",EYES_ORIGINS.length,2,EYES_ORIGINS),O();var t=document.getElementById("export_btn");t.href=l.toDataURL("image/png"),t.download=e+".png",document.getElementById("serialized_input").value=e}}function _(){Date.now();for(var e=document.getElementById("options").querySelectorAll("input"),t=0;t<e.length;t++){var n=e[t],a=parseInt(n.getAttribute("max"));n.value=Math.floor(Math.random()*(a+1))}Date.now();w()}window.onhashchange=function(){try{q(window.location.hash)}catch(e){}w()};var k=[{key:"eyes",defaults:["ee7755"],options:[["222033"],["178178"],["7722ab"],["346524"],["5a8ca6"],["fafafa"],["ababab"],["751f20"]]},{key:"skin",defaults:["cccc77","aaaa55","888844"],options:[["cccc77","aaaa55","888844"],["f0f0dd","d1d1c2","b1b1b1"],["ccccbe","877d78","675d58"],["e6d1bc","d9af83","b98f73"],["cb9f76","af8055","8f6035"],["a47d5b","7c5e46","5c3e56"],["7a3333","56252f","36051f"],["686e46","505436","303416"],["dcb641","aa6622","8a4602"],["72b8e4","5d96ba","3d76aa"],["aa4951","8a344d","6a142d"],["887777","554444","775555"],["434343","353535","3e3e3e"],["6cb832","3c8802","4c9812"]]},{key:"suit",defaults:["7722aa","552277"],options:"item"},{key:"item",defaults:["dd77bb","aa5599","eebbee"],options:[["ccaa44","aa6622","c89437"],["d04648","aa3333","caacac"],["a9b757","828a58","c1cd74"],["f0f0dd","d1d1c2","fdfdfb"],["944a9c","5a3173","ae68b6"],["447ccf","3d62b3","69b7d8"],["3e3e3e","353535","434343"]]},{key:"hair",defaults:["eeeeee","cccccc"],options:[["ebebeb","c7c7c7"],["e4da99","d9c868"],["b62f31","751f20"],["cc7733","bb5432"],["4d4e4c","383839"]]}];function R(e){return("00"+e.toString(16)).slice(-2)}function B(e){return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}function N(e,t,n){for(var a=0;a<t.length;a++)for(var o=t[a],c=B(n[a]),r=0;r<e.length;r+=4){var i=R(e[r])+R(e[r+1])+R(e[r+2]);255==e[r+3]&&i===o&&(e[r+0]=c[0],e[r+1]=c[1],e[r+2]=c[2])}}function O(){for(var e=f.getImageData(0,0,l.width,l.height),t=e.data,n=0;n<k.length;n++){var a=k[n],o=a.options[p(a.key)];N(t,a.defaults,o)}f.putImageData(e,0,0)}function G(e){return e.key}k.forEach(function(e){"string"==typeof e.options&&(e.options=k.find(function(t){return t.key===e.options}).options)});var Y=s.map(G).concat(k.map(G));function D(){return"a"+Y.map(function(e){return R(p(e).toString(16))}).join("")}function q(e){(e=e.replace(/^#/,""))[0],e.slice(1).match(/.{1,2}/g).forEach(function(e,t){E(Y[t],parseInt(e,16))});w()}var L="",j=-1,A=-1,C={_default:8,jump:6};function M(){var e=(d/(C[u]||C._default)|0)%m[u].len,t=m[u].y;(L!==u||j!==e||A!==t||"no_anim"==L&&d%10==0)&&(a.clearRect(0,0,16,24),a.drawImage(l,16*e,24*t,16,24,0,0,16,24),L=u,j=e,A=t),d++,requestAnimationFrame(M)}function T(){k.forEach(function(e){document.querySelector("[data-"+e.key+"]").setAttribute("max",e.options.length-1)}),s.forEach(function(e){document.querySelector("[data-"+e.key+"]").setAttribute("max",e.max)}),document.getElementById("randomize").addEventListener("click",_);var e=document.getElementById("options");e.addEventListener("change",w),e.addEventListener("input",w),document.getElementById("from_code_btn").addEventListener("click",function e(){try{K({r:255,g:205,b:54})}catch(e){throw e}});var t=document.getElementById("current_anim");t.value=u,t.addEventListener("change",function(){u=this.value});try{q(window.location.hash)}catch(e){_()}M()}function z(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];alert(e),console.log(e,t)}function F(){z("Connection to light failed!",!0)}var U,J=0,P=localStorage.getItem("locIp");function H(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];J=new Date,U||(U=setTimeout(F,3e3));var n=null,a=e?"post":"get";e&&(e.v=t,e.time=Math.floor(Date.now()/1e3),n=JSON.stringify(e)),fetch("/dudes",{method:a,headers:{"Content-type":"application/json; charset=UTF-8"},body:n}).then(function(e){return e.ok||F(),e.json()}).then(function(e){clearTimeout(U),U=null,e||z("Empty response",!0),e.success}).catch(function(e){z(e,!0),console.log(e)})}function K(e){var t={colors:[[200],[200,200,200],[]],transition:7};H(t)}e();
},{}]},{},["Focm"], null)</script> <style type="text/css">*,:after,:before{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}html{font-family:Helvetica,Arial,sans-serif;font-size:100%;background:#333;--h:11.55vh}body{height:100px;padding:0}body,button{text-align:center;margin:0}button{font-family:Verdana,Helvetica,sans-serif;height:var(--h);display:inline-block;border-radius:3px;font-size:.9rem;padding:.5rem .8em;background:#69c773;border:none;border-bottom:1px solid #498b50;color:#fff;-webkit-font-smoothing:antialiased;font-weight:700;width:100%}button:focus,button:hover{opacity:.75;cursor:pointer}button:active{opacity:1;box-shadow:inset 0 -3px 10px rgba(0,0,0,.1)}#c{background:#fff;width:256px;height:384px;border:3px solid #00f;padding:4px;image-rendering:optimizeSpeed;image-rendering:-moz-crisp-edges;image-rendering:-webkit-optimize-contrast;image-rendering:-o-crisp-edges;image-rendering:pixelated;-ms-interpolation-mode:nearest-neighbor}#page-wrapper{padding:1em;margin:1em auto}input[type=range]{width:500px}label{display:inline-block;width:150px;color:red}.option{margin:1em 0}</style> <script>
  </script>  </body></html>